<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OpenMLS 0.6 released | OpenMLS</title>
<meta name=keywords content="mls,openmls,release,rfc9420"><meta name=description content="Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.
New Storage Provider
To make it easier to persist group state, the KeyStoreProvider was replaced with the more powerful StorageProvider trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted."><meta name=author content="Jan Winkelmann"><link rel=canonical href=https://blog.openmls.tech/posts/2024-09-04-v0_6-release/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.openmls.tech/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.openmls.tech/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.openmls.tech/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.openmls.tech/apple-touch-icon.png><link rel=mask-icon href=https://blog.openmls.tech/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.openmls.tech/posts/2024-09-04-v0_6-release/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="OpenMLS 0.6 released"><meta property="og:description" content="Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.
New Storage Provider
To make it easier to persist group state, the KeyStoreProvider was replaced with the more powerful StorageProvider trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.openmls.tech/posts/2024-09-04-v0_6-release/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-04T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenMLS 0.6 released"><meta name=twitter:description content="Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.
New Storage Provider
To make it easier to persist group state, the KeyStoreProvider was replaced with the more powerful StorageProvider trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.openmls.tech/posts/"},{"@type":"ListItem","position":2,"name":"OpenMLS 0.6 released","item":"https://blog.openmls.tech/posts/2024-09-04-v0_6-release/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"OpenMLS 0.6 released","name":"OpenMLS 0.6 released","description":"Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.\nNew Storage Provider To make it easier to persist group state, the KeyStoreProvider was replaced with the more powerful StorageProvider trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted.\n","keywords":["mls","openmls","release","rfc9420"],"articleBody":"Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.\nNew Storage Provider To make it easier to persist group state, the KeyStoreProvider was replaced with the more powerful StorageProvider trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted.\nüîó Github PR\nüîó Documentation\nAPI Changes In an effort to make OpenMLS as easy to use as possible, we made some API changes to rid of a few footguns and provide better ergonomics.\nA Staged API for Welcomes In the old API, it was not possible to inspect the details of a group one is invited to without joining it. There was a workaround, but v0.6 solves the problem cleanly by making joining from a Welcome message a two-stage process: First the welcome is parsed and decrypted into a StagedWelcome. This value can be used for inspecting the group, and then turned into a full MlsGroup.\nüîó Github Issue\nüîó Documentation\nSplit Group Configuration into separate types The MlsGroupConfig struct was needed both for creating a new group and for joining an existing one from a Welcome message. We replaced it with the two structs MlsGroupCreateConfig and MlsGroupJoinConfig. This removes the somewhat awkward situation that, when joining a group, the user could set config items that are only relevant to creating the group.\nüîó Github PR\nA Clean Way to Update the Own Leaf Node The way we handled the creation of self-update proposals was not ideal, and required us to modify the leaf node that was passed into the propose_self_update function. We did an overhaul of the API here and now instead pass in the information that is required to build the new leaf node (in the form of LeafNodeParameters), which is then created by the propose_self_update itself.\nüîó Github PR\nBuilders, Builders, more Builders We added builders for many more types to make them more easily constructible:\nMlsGroup KeyPackage Capabilities LeafNodeParameters Libcrux Crypto Provider and Post-Quantum Ciphersuite We added a second crypto provider, that is (for the most part) backed by libcrux instead of the RustCrypto crates. Libcrux is a high-assurance cryptographic library, which means it uses formal methods to achieve higher confidence in the correctness of the implementation.\nLibcrux also contains code for Kyber/ML-KEM, a public key encryption algorithm that is designed to be resistant against quantum computer attacks. We provide a ciphersuite using it in hybrid mode (i.e. together with a more established public key algorithm known to be secure against attacks with classical computers) using the XWing combiner\nüîó Blog Post\nProgress on Long-Term Efforts We started an effort to make sure that we do all the validation checks mandated by the RFC, and we do and test them. For this, we started making a machine-readable list of all the checks, and generating an HTML dashboard. We started writing some new tests and referencing them in the dashboard.\nWe also started some refactoring around the group state. There was a historic distinction between MlsGroup and CoreGroup. This distinction is making increasingly little sense, and we are in an effort to merge the two. However, since this is a core piece of the library, doing it all at once would be a very large change that may introduce a number of new bugs. In the spirit of ‚Äúfirst make the change easy, then make the easy change‚Äù, we decided this should be a longer-term transition. We made some progress already, but CoreGroup will stick around for a little longer.\nAnother area we made a little progress in is Wasm support. In order to keep an eye on the Wasm binary size of the OpenMLS library, we added a build on CI for some minimal Wasm bindings and fail if the gzip-compressed binary is larger than 500 kB. This means that while it will add considerable page load cost, OpenMLS can be used on the web today!\n","wordCount":"703","inLanguage":"en","datePublished":"2024-09-04T00:00:00Z","dateModified":"2024-09-04T00:00:00Z","author":{"@type":"Person","name":"Jan Winkelmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.openmls.tech/posts/2024-09-04-v0_6-release/"},"publisher":{"@type":"Organization","name":"OpenMLS","logo":{"@type":"ImageObject","url":"https://blog.openmls.tech/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.openmls.tech/ accesskey=h title="OpenMLS (Alt + H)">OpenMLS</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.openmls.tech/ title=Home><span>Home</span></a></li><li><a href=https://github.com/openmls/openmls title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">OpenMLS 0.6 released</h1><div class=post-meta><span title='2024-09-04 00:00:00 +0000 UTC'>September 4, 2024</span>&nbsp;¬∑&nbsp;Jan Winkelmann</div></header><div class=post-content><p>Today, we are releasing version 0.6 of OpenMLS. In this post we‚Äôll go over the most significant changes since our last release.</p><h1 id=new-storage-provider>New Storage Provider<a hidden class=anchor aria-hidden=true href=#new-storage-provider>#</a></h1><p>To make it easier to persist group state, the <code>KeyStoreProvider</code> was replaced with the more powerful <code>StorageProvider</code> trait for tracking the state of a group or a party. This includes keys, but also other group state like the ratchet tree and the group context. OpenMLS writes to the storage at the end of any successful operation. This means that if the provider is backed by some persistent memory, the entire long-lived state of OpenMLS is automatically persisted.</p><p>üîó <a href=https://github.com/openmls/openmls/pull/1565>Github PR</a><br>üîó <a href=https://book.openmls.tech/traits/traits.html#storageprovider>Documentation</a></p><h1 id=api-changes>API Changes<a hidden class=anchor aria-hidden=true href=#api-changes>#</a></h1><p>In an effort to make OpenMLS as easy to use as possible, we made some API changes to rid of a few footguns and provide better ergonomics.</p><h2 id=a-staged-api-for-welcomes>A Staged API for Welcomes<a hidden class=anchor aria-hidden=true href=#a-staged-api-for-welcomes>#</a></h2><p>In the old API, it was not possible to inspect the details of a group one is invited to without joining it. There was a workaround, but v0.6 solves the problem cleanly by making joining from a Welcome message a two-stage process: First the welcome is parsed and decrypted into a <code>StagedWelcome</code>. This value can be used for inspecting the group, and then turned into a full <code>MlsGroup</code>.</p><p>üîó <a href=https://github.com/openmls/openmls/issues/1508>Github Issue</a><br>üîó <a href=https://book.openmls.tech/user_manual/join_from_welcome.html>Documentation</a></p><h2 id=split-group-configuration-into-separate-types>Split Group Configuration into separate types<a hidden class=anchor aria-hidden=true href=#split-group-configuration-into-separate-types>#</a></h2><p>The <code>MlsGroupConfig</code> struct was needed both for creating a new group and for joining an existing one from a Welcome message. We replaced it with the two structs <code>MlsGroupCreateConfig</code> and <code>MlsGroupJoinConfig</code>. This removes the somewhat awkward situation that, when joining a group, the user could set config items that are only relevant to creating the group.</p><p>üîó <a href=https://github.com/openmls/openmls/pull/1464>Github PR</a></p><h2 id=a-clean-way-to-update-the-own-leaf-node>A Clean Way to Update the Own Leaf Node<a hidden class=anchor aria-hidden=true href=#a-clean-way-to-update-the-own-leaf-node>#</a></h2><p>The way we handled the creation of self-update proposals was not ideal, and required us to modify the leaf node that was passed into the <code>propose_self_update</code> function. We did an overhaul of the API here and now instead pass in the information that is required to build the new leaf node (in the form of <code>LeafNodeParameters</code>), which is then created by the <code>propose_self_update</code> itself.</p><p>üîó <a href=https://github.com/openmls/openmls/pull/1606>Github PR</a></p><h2 id=builders-builders-more-builders>Builders, Builders, more Builders<a hidden class=anchor aria-hidden=true href=#builders-builders-more-builders>#</a></h2><p>We added builders for many more types to make them more easily constructible:</p><ul><li><code>MlsGroup</code></li><li><code>KeyPackage</code></li><li><code>Capabilities</code></li><li><code>LeafNodeParameters</code></li></ul><h2 id=libcrux-crypto-provider-and-post-quantum-ciphersuite>Libcrux Crypto Provider and Post-Quantum Ciphersuite<a hidden class=anchor aria-hidden=true href=#libcrux-crypto-provider-and-post-quantum-ciphersuite>#</a></h2><p>We added a second crypto provider, that is (for the most part) backed by libcrux instead of the RustCrypto crates. Libcrux is a high-assurance cryptographic library, which means it uses formal methods to achieve higher confidence in the correctness of the implementation.</p><p>Libcrux also contains code for Kyber/ML-KEM, a public key encryption algorithm that is designed to be resistant against quantum computer attacks. We provide a ciphersuite using it in hybrid mode (i.e. together with a more established public key algorithm known to be secure against attacks with classical computers) using the XWing combiner</p><p>üîó <a href=https://blog.openmls.tech/posts/2024-04-11-pq-openmls/>Blog Post</a></p><h1 id=progress-on-long-term-efforts>Progress on Long-Term Efforts<a hidden class=anchor aria-hidden=true href=#progress-on-long-term-efforts>#</a></h1><p>We started an effort to make sure that we do all the validation checks mandated by the RFC, and we do and test them. For this, we started making <a href=https://github.com/openmls/validation.dhall>a machine-readable list</a> of all the checks, and generating an <a href=https://validation.openmls.tech>HTML dashboard</a>. We started writing some new tests and referencing them in the dashboard.</p><p>We also started some refactoring around the group state. There was a historic distinction between MlsGroup and CoreGroup. This distinction is making increasingly little sense, and we are in an effort to merge the two. However, since this is a core piece of the library, doing it all at once would be a very large change that may introduce a number of new bugs. In the spirit of ‚Äúfirst make the change easy, then make the easy change‚Äù, we decided this should be a longer-term transition. We made some progress already, but CoreGroup will stick around for a little longer.</p><p>Another area we made a little progress in is Wasm support. In order to keep an eye on the Wasm binary size of the OpenMLS library, we added a build on CI for some minimal Wasm bindings and fail if the gzip-compressed binary is larger than 500 kB. This means that while it will add considerable page load cost, OpenMLS can be used on the web today!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.openmls.tech/tags/mls/>Mls</a></li><li><a href=https://blog.openmls.tech/tags/openmls/>Openmls</a></li><li><a href=https://blog.openmls.tech/tags/release/>Release</a></li><li><a href=https://blog.openmls.tech/tags/rfc9420/>Rfc9420</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.openmls.tech/>OpenMLS</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>