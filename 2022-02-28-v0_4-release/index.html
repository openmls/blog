<!doctype html><html><head><title>OpenMLS v0.4 Release // OpenMLS</title><meta charset=utf-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="OpenMLS v0.4 Release"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:locale" content="en"><meta property="og:url" content="https://openmls.tech/blog/2022-02-28-v0_4-release/"><link rel="shortcut icon" href=/favicon.ico><link href=https://openmls.tech/blog/webfonts/ptserif/main.css rel=stylesheet type=text/css><link href=https://openmls.tech/blog/webfonts/source-code-pro/main.css rel=stylesheet type=text/css><link rel=stylesheet href=https://openmls.tech/blog/css/style.css><meta name=generator content="Hugo 0.115.3"></head><body><div id=container><header id=header><div id=header-outer class=outer><div id=header-inner class=inner><a id=main-nav-toggle class=nav-icon href=javascript:;></a>
<a id=logo class=logo-text href=https://openmls.tech/blog/>OpenMLS</a><nav id=main-nav><a class=main-nav-link href=https://github.com/openmls/openmls>Github</a></nav><nav id=sub-nav><div id=search-form-wrap></div></nav></div></div></header><section id=main class=outer><article class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name>OpenMLS v0.4 Release</h1></header><div class=article-meta><a href=/blog/2022-02-28-v0_4-release/ class=article-date><time datetime=2022-02-28T00:00:00.000+00:00 itemprop=datePublished>2022-02-28</time></a><pre style=color:#939393> by <a href=https://kkohbrok.github.io/> Konrad Kohbrok </a></pre></div><div class=article-entry itemprop=articleBody><p><strong>Today, we are excited to announce the release of <a href=https://github.com/openmls/openmls/releases/tag/v0.4.0>v0.4 of OpenMLS</a>! 🎉</strong></p><p>Some time has passed since we wrote about our <a href=https://openmls.tech/blog/2021-10-19-openmls-04-roadmap/>roadmap to v0.4</a>. In this post, we want to provide some insight into what has happened in the development of OpenMLS generally, but also relative to the goals we included in the roadmap.</p><p>Our high-level goal with v0.4 was to reach a state where we have an API stable enough and an implementation robust enough such that people interested in OpenMLS can start exploring it in the context of their own projects. However, this is not v1.0 and we can neither promise that the API won’t change in the future, nor do we advise using OpenMLS in production or indeed in any security-sensitive context. With this disclaimer out of the way, let’s see what has happened in these past months.</p><h2 id=-milestones-reached>🎯 Milestones Reached</h2><p>In our roadmap blog post, we documented a number of milestones that we were aiming for. Here is an overview of the milestones and how we reached them.</p><h3 id=-high-level-api-and-documentation>📜 High-Level API and Documentation</h3><p>After a lot of clean-up and re-design, OpenMLS now exposes the <code>MlsGroup</code> API, a high-level API that allows an application to create and manage a group, as well as parse, process, and validate MLS messages. The new API comes with the following changes:</p><ul><li>Major improvements to the documentation of the structs and functions we expose. The docs can be found <a href=https://docs.rs/crate/openmls/latest>here</a>.</li><li>The way that errors are exposed by OpenMLS was completely refactored, such that callers can now usefully branch on the errors thrown by a function.</li><li>Members of a group are now addressed using their <code>KeyPackageRef</code> (a hash of the key material representing the member in a given group) rather than their index in the group’s ratchet tree. This change required a major refactoring effort throughout our code-base, mirroring the preceding effort made on the spec-level to better abstract away the tree underlying MLS.</li></ul><h3 id=-user-manual>📚 User Manual</h3><p>OpenMLS now has a <a href=https://openmls.tech/book>user manual</a> that contains guidance on how to use the <code>MlsGroup</code> API to perform MLS group operations, along with some explicit examples.</p><h3 id=-crypto-provider>🔐 Crypto Provider</h3><p>With v0.4 comes the <code>OpenMlsCryptoProvider</code> trait, that in turn wraps three other traits:</p><ul><li>the <code>OpenMlsCrypto</code> trait, on which OpenMLS relies for crypto implementations</li><li>the <code>OpenMlsKeyStore</code> trait, which can be used to store and retrieve cryptographic key material</li><li>the <code>OpenMlsRand</code> trait, which OpenMLS uses to generate randomness</li></ul><p>OpenMLS provides two implementations of the <code>OpenMlsCryptoProvider</code> trait, one based on the <a href=https://hacl-star.github.io/HaclValeEverCrypt.html>evercrypt</a> crypto provider and one on the <a href=https://github.com/RustCrypto>Rust Crypto</a> implementations. Both implementations rely on the <code>rand_chacha</code> crate for random number generation and a simple memory-based key store. See <a href=https://github.com/openmls/openmls/tree/main/traits>here</a> for more information on the traits and their implementations.</p><p>With the traits in place, anyone can bring their own implementations to use with OpenMLS.</p><h3 id=-supported-platforms>⚙️ Supported Platforms</h3><p>OpenMLS is now compiled and tested for a number of 32 and 64-bit architectures:</p><table><thead><tr><th>OS</th><th>Target</th><th>Build</th><th>Tests</th><th>CI</th></tr></thead><tbody><tr><td>🐧</td><td>x86_64-unknown-linux-gnu</td><td>✅</td><td>✅</td><td>GitHub</td></tr><tr><td>🐧</td><td>i686-unknown-linux-gnu</td><td>✅</td><td>✅</td><td>GitHub</td></tr><tr><td>🪟</td><td>x86_64-pc-windows-msvc</td><td>✅</td><td>✅</td><td>GitHub</td></tr><tr><td>🪟</td><td>i686-pc-windows-msvc</td><td>✅</td><td>✅</td><td>GitHub</td></tr><tr><td>🍎</td><td>x86_64-apple-darwin</td><td>✅</td><td>✅</td><td>GitHub</td></tr><tr><td>🐧</td><td>aarch64-unknown-linux-gnu</td><td>✅</td><td>✅</td><td>drone.io</td></tr><tr><td>🍎</td><td>aarch64-apple-darwin</td><td>✅</td><td>❌</td><td>GitHub</td></tr><tr><td>🐧</td><td>aarch64-unknown-linux-gnu</td><td>✅</td><td>❌</td><td>GitHub</td></tr><tr><td>🤖</td><td>aarch64-linux-android</td><td>✅</td><td>❌</td><td>GitHub</td></tr><tr><td>🍎</td><td>aarch64-apple-ios</td><td>✅</td><td>❌</td><td>GitHub</td></tr><tr><td>🍎</td><td>aarch64-apple-ios-sim</td><td>✅</td><td>❌</td><td>GitHub</td></tr><tr><td>🕸️</td><td>wasm32-unknown-unknown</td><td>✅</td><td>❌</td><td>GitHub</td></tr></tbody></table><h3 id=-validation--authorization>💌 Validation & Authorization</h3><p>Making use of Rust’s strong type system, the <code>CoreGroup</code> layer underneath the <code>MlsGroup</code> API not only ensures that every incoming MLS message is syntactically and semantically validated according to the MLS spec, but also that messages created using the <code>MlsGroup</code> API fulfill these requirements. Before any messages are finally applied to a group, the API exposes the message to the application along with all information required to make its own policy decisions.</p><p>All validation steps are <a href=https://openmls.tech/book/message_validation.html>indexed and documented</a>, as well as thoroughly tested.</p><h2 id=-still-not-finished-mls-keeps-improving>🏗️ Still Not Finished: MLS Keeps Improving</h2><p>For a while now, MLS has been “close to a working group last call”, but as implementations have matured and academic research on the protocol has progressed, issues and improvement proposals have been steadily trickling in. As a result, at the time of release of OpenMLS v0.4, there is still no working group last call and no additional draft of the specification has been released. Consequently, v0.4 is <a href="https://github.com/openmls/openmls/issues?q=is%3Aissue+is%3Aopen+label%3A%22mls-spec+change%22">not quite feature-complete</a>, but advances the implementation to draft 12+.</p><h2 id=-more-improvements-under-the-hood>🧑🏼‍🔧 More Improvements Under the Hood</h2><p>To achieve all of the milestones listed above, OpenMLS has seen many improvements under the hood.</p><ul><li>🌳 TreeSync: The tree implementation supporting OpenMLS has been re-written in a style that allows a diff-merge process and that exposes a clear abstraction boundary between the ratchet tree and the rest of the implementation.</li><li>⚠️ Errors: OpenMLS now uses the <code>thiserror</code> crate throughout. Instead of module-wide error types, every function now returns an error enum that contains only the errors that can actually occur during the course of the function.</li><li>😱 Almost panic-free: Although not quite there yet, we have made a lot of progress in transitioning to a panic-free implementation, such that even in the event of an implementation bug we can ensure that OpenMLS functions will not panic.</li><li>⏱️ Parallelization: The performance-critical functions of OpenMLS around the encryption of key material to other group members is now parallelized using the <code>rayon</code> crate.</li></ul><h2 id=-future-work>💼 Future Work</h2><p>The MLS specification is still in motion and there are many things that need to be improved before we can move towards the next OpenMLS release. If you have a suggestion, please let us know by joining our <a href=https://openmls.zulipchat.com>Zulip instance</a> or by filing an issue in our <a href=https://github.com/openmls/openmls>GitHub repo</a>. Or send us an email at <a href=mailto:hello@openmls.tech>hello@openmls.tech</a>.</p><h2 id=-metrics>💯 Metrics</h2><p>Here are some data points that give an overview of our activity since the release of the roadmap in October 2021.</p><ul><li><a href="https://github.com/openmls/openmls/issues?q=is%3Aissue+is%3Aclosed+updated%3A2021-10-01..2022-02-28+">Closed issues since October 2021: 188</a></li><li><a href="https://github.com/openmls/openmls/pulls?q=is%3Apr+is%3Aclosed+updated%3A2021-10-01..2022-02-28+">Merged PRs since October 2021: 223</a></li><li><a href=https://github.com/openmls/openmls/compare/b99b23c8b76c3f1bb74ec7fef931b9b6c119cd85...v0.4.0>327 (update) commits</a></li></ul></div><div class=article-toc style=display:none><h3>Contents</h3><nav id=TableOfContents><ul><li><a href=#-milestones-reached>🎯 Milestones Reached</a><ul><li><a href=#-high-level-api-and-documentation>📜 High-Level API and Documentation</a></li><li><a href=#-user-manual>📚 User Manual</a></li><li><a href=#-crypto-provider>🔐 Crypto Provider</a></li><li><a href=#-supported-platforms>⚙️ Supported Platforms</a></li><li><a href=#-validation--authorization>💌 Validation & Authorization</a></li></ul></li><li><a href=#-still-not-finished-mls-keeps-improving>🏗️ Still Not Finished: MLS Keeps Improving</a></li><li><a href=#-more-improvements-under-the-hood>🧑🏼‍🔧 More Improvements Under the Hood</a></li><li><a href=#-future-work>💼 Future Work</a></li><li><a href=#-metrics>💯 Metrics</a></li></ul></nav></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.slim.min.js integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin=anonymous></script>
<script>(function(){var t,e=$("#TableOfContents");if(e.length>0){t=$(window);function n(){var n,o=t.scrollTop(),i=$(".article-entry h1, .article-entry h2, .article-entry h3, .article-entry h4, .article-entry h5, .article-entry h6"),s="";if(i.each(function(e,t){t=$(t),t.offset().top-10<=o&&(s=t.attr("id"))}),n=e.find("a.active"),n.length==1&&n.eq(0).attr("href")=="#"+s)return!0;n.each(function(e,t){$(t).removeClass("active").siblings("ul").hide()}),e.find('a[href="#'+s+'"]').parentsUntil("#TableOfContents").each(function(e,t){$(t).children("a").addClass("active").siblings("ul").show()})}t.on("scroll",n),$(document).ready(function(){e.find("a").parent("li").find("ul").hide(),n(),document.getElementsByClassName("article-toc")[0].style.display=""})}})()</script><footer class=article-footer><ul class=article-tag-list><li class=article-tag-list-item><a class=article-tag-list-link href=https://openmls.tech/blog/tags/mls>mls</a></li><li class=article-tag-list-item><a class=article-tag-list-link href=https://openmls.tech/blog/tags/openmls>openmls</a></li><li class=article-tag-list-item><a class=article-tag-list-link href=https://openmls.tech/blog/tags/release>release</a></li></ul></footer></div><nav id=article-nav><a href=/blog/2022-10-19-update/ id=article-nav-newer class=article-nav-link-wrap><div class=article-nav-title><span>&lt;</span>&nbsp;
OpenMLS Update</div></a><a href=/blog/2021-10-19-openmls-04-roadmap/ id=article-nav-older class=article-nav-link-wrap><div class=article-nav-title>OpenMLS v0.4 Roadmap&nbsp;<span>></span></div></a></nav></article></section><footer id=footer><div class=outer><div id=footer-info class=inner>&copy; 2023 OpenMLS<br>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos target=_blank>Minos</a></div></div><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night.min.css integrity="sha256-2wL88NKUqvJi/ExflDzkzUumjUM73mcK2gBvBBeLvTk=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script>
<script>hljs.initHighlightingOnLoad()</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css integrity=sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0 crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js integrity=sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1 crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js integrity="sha256-ExtbCSBuYA7kq1Pz362ibde9nnsHYPt6JxuxYeZbU+c=" crossorigin=anonymous></script>
<script>renderMathInElement(document.body)</script><script>document.getElementById("main-nav-toggle").addEventListener("click",function(){var e=document.getElementById("header");e.classList.contains("mobile-on")?e.classList.remove("mobile-on"):e.classList.add("mobile-on")})</script></footer></div></body></html>